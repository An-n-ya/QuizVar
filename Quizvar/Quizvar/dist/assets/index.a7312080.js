import{r as e,o as t,c as o,a as i,w as a,u as s,b as l,d as n,e as u,t as r,f as d,V as c,g as h,E as p,h as z,i as g,l as m,j as k,k as f,m as Q,p as y,n as v,q as b,s as C,v as _,x as w,F as q,y as V,z as B,A as S,B as I,C as $,D as T,G as M}from"./vendor.17f50cd1.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const x={id:"root-container"},A={id:"icon"},N=n("Quizvar"),P=n("主页"),D=n("创建"),E=n("问题本"),F=n("文件夹"),L={methods:{haha(){this.$router.push("/")},navToWel(){this.$router.push("/Welcome")},navToCreateBook(){this.$router.push("/QuizPamphlet/CreateBook")}},created(){this.navToWel()}};const U=Object.assign(L,{setup:function(n){return(n,u)=>{const r=e("el-link"),d=e("el-menu-item"),c=e("el-sub-menu"),h=e("el-menu"),p=e("el-header"),z=e("router-view"),g=e("el-main"),m=e("el-container");return t(),o("div",x,[i(m,null,{default:a((()=>[i(p,null,{default:a((()=>[i(h,{"default-active":s("1"),class:"el-menu-demo",mode:"horizontal","background-color":"#4656ac","text-color":"#fff","active-text-color":"#ffd04b",onSelect:n.handleSelect},{default:a((()=>[l("div",A,[i(r,{class:"link",underline:!1,onClick:n.haha},{default:a((()=>[N])),_:1},8,["onClick"])]),i(d,{index:"1",onClick:n.haha},{default:a((()=>[P])),_:1},8,["onClick"]),i(c,{index:"3"},{title:a((()=>[D])),default:a((()=>[i(d,{index:"3-1",onClick:n.navToCreateBook},{default:a((()=>[E])),_:1},8,["onClick"]),i(d,{index:"3-2"},{default:a((()=>[F])),_:1})])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1}),i(g,null,{default:a((()=>[i(z)])),_:1})])),_:1})])}}});const W={setup:e=>(e,o)=>(t(),u(U))};const j=r({font:{typography:["Roboto","Helvetica","Arial"],code:["Monaco","Fira Code"]},size:{radius:"2px",lineWidth:"1px"},color:{primary:"#ff79c6",secondary:"#bd93f9",neutral:"#000",background:"#fff"}}),O=d({name:"Milkdown",components:{VueEditor:c},props:["modelValue","readonly"],emits:["update:modelValue"],setup(e,t){let o=e.modelValue;return o||(o="Quiz 答案"),{editor:h((i=>p.make().config((a=>{a.set(z,i),a.set(g,o),a.set(m,{markdown:[e=>{t.emit("update:modelValue",e())}]}),a.set(k,{editable:()=>!e.readonly})})).use(j).use(f).use(Q).use(y)))}}});O.render=function(o,i,a,s,l,n){const r=e("VueEditor");return t(),u(r,{editor:o.editor},null,8,["editor"])};const R={components:{MilkDown:O},data:()=>({inputActive:!1,bookTitle:"",curId:null,dialogVisible:!1,Quiz:{quiz_id:"",quiz:"",ans:"",category:"",date:"",editdate:"",author:"",quizbook:"",createFlag:!1},QuizSet:[{quiz_id:"",quiz:"",ans:"",category:"",date:"",editdate:"",author:"",quizbook:""}]}),created(){this.getQuizSet()},computed:{currentTitle(){return""==this.bookTitle?this.$route.params.quizbook:this.bookTitle}},methods:{check:e=>e,async getQuizSet(){const{data:e}=await this.$http.get("searchbybook/"+this.currentTitle);200!==e.status&&this.$message({message:"获取数据失败",type:"danger"}),this.QuizSet=e.QuizSet},toInput(){this.inputActive=!0},showDialog(e){this.dialogVisible=!0,e?(this.Quiz=e,this.createFlag=!1):this.Quiz={quiz:"",and:"",createFlag:!0}},async createQuiz(){if(this.Quiz.createFlag){if("CreateBook"==this.currentTitle)return this.$message({message:"请先更改 QuizBook 的名称",type:"warning"}),void(this.dialogVisible=!1);this.Quiz.author="ankh",this.Quiz.quizbook=this.currentTitle,0!==this.QuizSet.length&&(this.Quiz.category=this.QuizSet[0].category);const{data:e}=await this.$http.post("insert",this.Quiz);200!==e.status&&this.$message({message:"获取数据失败",type:"danger"}),this.$message({message:"添加成功",type:"success"}),this.getQuizSet(),this.dialogVisible=!1}else{const{data:e}=await this.$http.put("update",this.Quiz);200!==e.status&&this.$message({message:"获取数据失败",type:"danger"}),this.$message({message:"修改成功",type:"success"}),this.getQuizSet(),this.dialogVisible=!1}},async deleteById(e,t){t&&t.stopPropagation();const{data:o}=await this.$http.delete("delete/"+e);200!==o.status&&this.$message({message:"删除失败",type:"danger"}),this.$message({message:"删除成功",type:"success"}),this.getQuizSet()}}};v("data-v-2a06d7f1");const G={id:"root container"},H=n(" 个问题 "),K=l("div",{class:"addCard"},[l("h3",null,[l("i",{class:"el-icon-circle-plus-outline"}),n("添加 Quiz")])],-1),J=["onClick"],X={class:"milkdown"},Y={class:"milkdownContainer"},Z={class:"dialog-footer"},ee=n("取 消"),te=n("保 存");b(),R.render=function(s,n,r,d,c,h){const p=e("el-input"),z=e("el-card"),g=e("el-col"),m=e("MilkDown"),k=e("el-row"),f=e("el-form"),Q=e("el-button"),y=e("el-dialog");return t(),o("div",G,[C(l("h1",{onClick:n[0]||(n[0]=(...e)=>h.toInput&&h.toInput(...e)),id:"title"},w(h.currentTitle),513),[[_,0==c.inputActive]]),C(i(p,{modelValue:c.bookTitle,"onUpdate:modelValue":n[1]||(n[1]=e=>c.bookTitle=e),placeholder:h.currentTitle,onBlur:n[2]||(n[2]=e=>c.inputActive=!1),class:"inputTitle"},null,8,["modelValue","placeholder"]),[[_,c.inputActive]]),l("p",null,[l("strong",null,w(c.QuizSet.length),1),H]),i(k,{gutter:20},{default:a((()=>[i(g,{span:6},{default:a((()=>[i(z,{shadow:"never","body-style":{padding:"0px",height:"100%"},onClick:n[3]||(n[3]=e=>h.showDialog())},{default:a((()=>[K])),_:1})])),_:1}),(t(!0),o(q,null,V(c.QuizSet,((e,s)=>(t(),u(g,{span:6,key:"quiz"+s},{default:a((()=>[i(z,{shadow:"never",onClick:t=>h.showDialog(e),"body-style":{padding:"0px"},onMouseenter:e=>c.curId="Quiz"+s,onMouseleave:n[4]||(n[4]=e=>c.curId=null)},{default:a((()=>[c.curId=="Quiz"+s?(t(),o("i",{key:0,class:"el-icon-close",onClick:t=>h.deleteById(e.quiz_id,t)},null,8,J)):B("",!0),l("h3",null,w(e.quiz),1),l("div",X,[i(m,{modelValue:e.ans,readonly:!0},null,8,["modelValue"])])])),_:2},1032,["onClick","onMouseenter"])])),_:2},1024)))),128))])),_:1}),i(y,{id:"editBox",title:"修改 Quiz",modelValue:c.dialogVisible,"onUpdate:modelValue":n[9]||(n[9]=e=>c.dialogVisible=e),"destroy-on-close":"",width:"70%"},{footer:a((()=>[l("span",Z,[i(Q,{onClick:n[7]||(n[7]=e=>c.dialogVisible=!1)},{default:a((()=>[ee])),_:1}),i(Q,{type:"primary",onClick:n[8]||(n[8]=e=>h.createQuiz())},{default:a((()=>[te])),_:1})])])),default:a((()=>[i(f,{ref:"Quiz",model:c.Quiz},{default:a((()=>[i(p,{modelValue:c.Quiz.quiz,"onUpdate:modelValue":n[5]||(n[5]=e=>c.Quiz.quiz=e),placeholder:"Quiz 标题",class:"quizTitle"},null,8,["modelValue"]),l("div",Y,[i(m,{modelValue:c.Quiz.ans,"onUpdate:modelValue":n[6]||(n[6]=e=>c.Quiz.ans=e)},null,8,["modelValue"])])])),_:1},8,["model"])])),_:1},8,["modelValue"])])},R.__scopeId="data-v-2a06d7f1";const oe={data:()=>({curId:null,QuizBooks:{},NQuizBook:[],totalQuizBook:0,totalQuiz:0}),created(){this.getQuizSet()},methods:{navTo(e,t){t&&t.stopPropagation(),this.$router.push(e)},async getQuizSet(){const{data:e}=await this.$http.get("nullquizbook");this.NQuizBook=e.QuizBook,this.totalQuizBook+=this.NQuizBook.length,this.NQuizBook.forEach((e=>{this.totalQuiz+=e.quiz_num}));const{data:t}=await this.$http.get("category");t.category.forEach((async e=>{let{data:t}=await this.$http.get("quizbook/"+e.category);this.QuizBooks[e.category]=t.QuizBook,this.totalQuizBook+=t.QuizBook.length,t.QuizBook.forEach((e=>{this.totalQuiz+=e.quiz_num}))}))}}};v("data-v-52812330");const ie={id:"root-container"},ae=l("h1",null,"欢迎来到 Quizvar！👏",-1),se=n(" 🎊 您已经创建了 "),le=n(" 个问题本 "),ne=n(" 🎉 您已经在 Quizvar 创建了 "),ue=n(" 个问题了！ "),re=l("p",null,[n("💪 您今天还有 "),l("strong",null,"xx"),n(" 个问题本需要复习")],-1),de=l("h1",null,"未归档的问题本",-1),ce=["onClick"],he={class:"detail"},pe=["onClick"],ze={class:"detail"};b(),oe.render=function(s,n,r,d,c,h){const p=e("el-card"),z=e("el-col"),g=e("el-row");return t(),o("div",ie,[i(p,{shadow:"never",id:"welcome"},{default:a((()=>[ae,l("p",null,[se,l("strong",null,w(c.totalQuizBook),1),le]),l("p",null,[ne,l("strong",null,w(c.totalQuiz),1),ue]),re])),_:1}),de,i(g,{gutter:20},{default:a((()=>[(t(!0),o(q,null,V(c.NQuizBook,((e,s)=>(t(),u(z,{span:6,key:"NClass"+s},{default:a((()=>[i(p,{shadow:"never",onClick:t=>h.navTo("/Test/"+e.quizbook,t),onMouseenter:e=>c.curId="NClass"+s,onMouseleave:n[0]||(n[0]=e=>c.curId=null)},{default:a((()=>[c.curId=="NClass"+s?(t(),o("i",{key:0,class:"el-icon-edit-outline",onClick:t=>h.navTo("/QuizPamphlet/"+e.quizbook,t)},null,8,ce)):B("",!0),l("h2",null,w(e.quizbook),1),l("p",he,w(e.quiz_num)+" 个问题",1)])),_:2},1032,["onClick","onMouseenter"])])),_:2},1024)))),128))])),_:1}),(t(!0),o(q,null,V(c.QuizBooks,((e,s,r)=>(t(),o("div",{key:"BookClass"+r},[l("h1",null,w(s),1),i(g,{gutter:20},{default:a((()=>[(t(!0),o(q,null,V(e,((e,s)=>(t(),u(z,{span:6,key:"Class"+s},{default:a((()=>[i(p,{shadow:"never",onClick:t=>h.navTo("/Test/"+e.quizbook,t),onMouseenter:e=>c.curId="Class"+s,onMouseleave:n[1]||(n[1]=e=>c.curId=null)},{default:a((()=>[c.curId=="Class"+s?(t(),o("i",{key:0,class:"el-icon-edit-outline",onClick:t=>h.navTo("/QuizPamphlet/"+e.quizbook,t)},null,8,pe)):B("",!0),l("h2",null,w(e.quizbook),1),l("p",ze,w(e.quiz_num)+" 个问题",1)])),_:2},1032,["onClick","onMouseenter"])])),_:2},1024)))),128))])),_:2},1024)])))),128))])},oe.__scopeId="data-v-52812330";Array.prototype.shuffle=function(){for(var e,t,o=this,i=o.length;i;)t=Math.floor(Math.random()*i--),e=o[i],o[i]=o[t],o[t]=e;return o};const ge={components:{MilkDown:O},data:()=>({active:!0,currentInd:0,QuizBook:"",QuizSet:[{quiz:"",ans:""}]}),created(){this.QuizBook=this.$route.params.quizbook,this.getQuizSet()},methods:{async getQuizSet(){const{data:e}=await this.$http.get("searchbybook/"+this.QuizBook);200!==e.status&&this.$message({message:"获取数据失败",type:"danger"}),this.QuizSet=e.QuizSet,this.QuizSet.shuffle()},toggleActive(){this.active=!this.active},check(){this.currentInd<this.QuizSet.length-1?(this.currentInd++,this.active=!0):this.$message({message:"单词本到底啦！",type:"warning"})},forget(){this.currentInd<this.QuizSet.length-1?(this.currentInd++,this.active=!0):this.$message({message:"单词本到底啦！",type:"warning"})}}};v("data-v-2a27bf65");const me={class:"rootContainer"},ke={key:1,class:"ansPhase"},fe={class:"selection"};b(),ge.render=function(s,n,u,r,d,c){const h=e("el-card"),p=e("MilkDown"),z=e("el-button");return t(),o("div",me,[d.active?(t(),o("div",{key:0,class:"quizPhase",onClick:n[0]||(n[0]=(...e)=>c.toggleActive&&c.toggleActive(...e))},[i(h,{shadow:"never"},{default:a((()=>[l("h1",null,w(d.QuizSet[d.currentInd].quiz),1)])),_:1})])):(t(),o("div",ke,[i(h,{shadow:"never",style:{"margin-bottom":"20px"}},{default:a((()=>[l("h1",null,w(d.QuizSet[d.currentInd].quiz),1)])),_:1}),i(h,{shadow:"never",style:{"margin-bottom":"20px"}},{default:a((()=>[i(p,{modelValue:d.QuizSet[d.currentInd].ans,readonly:!0},null,8,["modelValue"])])),_:1}),l("div",fe,[i(z,{type:"success",icon:"el-icon-check",onClick:c.check},null,8,["onClick"]),i(z,{type:"warning",icon:"el-icon-s-flag",onClick:c.forget},null,8,["onClick"])])]))])},ge.__scopeId="data-v-2a27bf65";const Qe=[{path:"/",component:U},{path:"/QuizPamphlet/:quizbook",component:R},{path:"/Welcome",component:oe},{path:"/Test/:quizbook",component:ge}],ye=S({history:I(),routes:Qe});$.defaults.baseURL="http://qiucle.cn:8787/api/";const ve=T(W);ve.config.globalProperties.$http=$,ve.use(M),ve.use(ye),ve.mount("#app");
